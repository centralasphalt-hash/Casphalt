<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contact Us | Central Asphalt Sealcoating</title>
  <meta name="description" content="Get a free estimate for sealcoating, asphalt repairs, striping, and concrete services in Central Florida." />
  <link rel="icon" href="assets/logo.png" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <!-- Header -->
  <header>
    <div class="container" style="display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:12px;">
      <!-- Logo + Company -->
      <div style="display:flex;align-items:center;gap:12px;">
        <a href="index.html" title="Return to Home">
          <img src="assets/logo.png" alt="Central Asphalt Sealcoating logo" width="44" height="44" style="border-radius:8px;object-fit:contain;" />
        </a>
        <h1>Central Asphalt Sealcoating</h1>
      </div>

      <!-- Get Free Estimate Button -->
      <div class="header-contact" style="text-align:center;">
        <a class="button" href="contact.html" style="display:inline-block;padding:12px 20px;font-size:0.95rem;font-weight:700;">Get a Free Estimate</a>
      </div>

      <!-- Navigation -->
      <nav aria-label="Primary">
        <ul>
          <li><a href="index.html#home">Home</a></li> 
          <li><a href="services.html">Services</a></li>
          <li><a href="blog.html">Blog</a></li>
          <li><a href="about.html">About</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>
    </div>
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-M4BFTB2F');</script>
<!-- End Google Tag Manager -->
  </header>

  <!-- Hero -->
  <section id="home" class="hero" role="banner" aria-label="Hero"
           style="--hero-image: url('assets/hero-lot.png');">
    <div class="container">
      <p class="eyebrow">Contact</p>
      <h1>Request a Free Estimate</h1>
      <p>Send us the details, we'll handle the rest.</p>
    </div>
  </section>

  <!-- Contact Cards -->
  <section aria-label="Direct contact options">
    <div class="container" style="padding:32px 0;">
      <div class="service-list">
        <article class="service-item" aria-label="Phone">
          <h3>Call (Fastest Option)</h3>
          <p><a href="tel:+14073320050"><strong>(407) 332-0050</strong></a></p>
          <p style="margin-top:8px;color:var(--muted);">Mon–Fri, 6:00 AM – 5:00 PM</p>
        </article>

        <article class="service-item" aria-label="Email">
          <h3>Email</h3>
          <p><a href="mailto:CentralAsphalt@gmail.com"><strong>CentralAsphalt@gmail.com</strong></a></p>
          <p style="margin-top:8px;color:var(--muted);">We respond promptly</p>
        </article>

        <article class="service-item" aria-label="Office">
          <h3>Office</h3>
          <p>
            <a href="https://www.google.com/maps/search/?api=1&query=203+E+Palmetto+Ave%2C+Longwood%2C+FL+32750"
               target="_blank" rel="noopener">
              203 E Palmetto Ave<br>Longwood, FL 32750
            </a>
          </p>
          <p style="margin-top:10px;">
            <a class="button" href="https://www.google.com/maps/dir/?api=1&destination=203+E+Palmetto+Ave%2C+Longwood%2C+FL+32750"
               target="_blank" rel="noopener">Get Directions</a>
          </p>
          <p style="margin-top:8px;color:var(--muted);">Serving All Central Florida</p>
        </article>

      </div>
    </div>
  </section>

  <!-- Contact Form -->
  <section aria-labelledby="form-title" id="contact-form">
    <div class="container">
      <h2 id="form-title">Tell Us About Your Project</h2>
      <p style="color:var(--muted);max-width:70ch;">
        Fill out the form and we'll reach out with a free estimate. Fields marked with * are required.
      </p>

      <!-- UPDATED: Formspree endpoint + IDs to match the JS below -->
      <form id="contactForm"
            action="https://formspree.io/f/xwpngnpg"
            method="POST"
            aria-label="Contact form">

        <!-- Honeypot (spam prevention) -->
        <div style="position:absolute;left:-9999px;top:auto;width:1px;height:1px;overflow:hidden;" aria-hidden="true">
          <label for="company_trap">Company</label>
          <input id="company_trap" name="company_trap" type="text" tabindex="-1" autocomplete="off" />
        </div>

        <!-- Optional email subject line you receive -->
        <input type="hidden" name="_subject" value="Website contact – Central Asphalt" />

        <div class="row">
          <div class="col-6">
            <label for="first_name">First Name *</label>
            <input id="first_name" name="first_name" type="text" placeholder="Your first name" required />
          </div>
          <div class="col-6">
            <label for="last_name">Last Name *</label>
            <input id="last_name" name="last_name" type="text" placeholder="Your last name" required />
          </div>

          <div class="col-6">
            <label for="email">Email *</label>
            <input id="email" name="email" type="email" placeholder="you@example.com" required />
          </div>
          <div class="col-6">
            <label for="phone">Phone</label>
            <input id="phone" name="phone" type="tel" placeholder="(###) ###-####" />
          </div>

          <div class="col-12">
            <label for="business_name">Business Name (Optional)</label>
            <input id="business_name" name="business_name" type="text" placeholder="Your business name" />
          </div>

          <div class="col-12">
            <label for="service">Service of Interest</label>
            <div style="display:grid;grid-template-columns:repeat(auto-fit, minmax(250px, 1fr));gap:8px;margin-top:8px;">
              <label style="display:flex;align-items:center;gap:8px;font-weight:normal;margin:0;">
                <input type="checkbox" name="service" value="Other" style="width:auto;margin:0;" />
                Other
              </label>
            </div>
          </div>

          <div class="col-12">
            <label for="address">Project Address (optional)</label>
            <input id="address" name="address" type="text" placeholder="Street, City, ZIP" />
          </div>

          <div class="col-12">
            <label for="message">Project Details *</label>
            <textarea id="message" name="message" rows="7" placeholder="Tell us about your lot size, timing, and goals…" required></textarea>
          </div>
        </div>

        <div class="actions">
          <button type="submit" class="button" id="sendBtn">Send Message</button>
        </div>

        <!-- Status message area -->
        <p id="formStatus" style="margin-top:10px;color:var(--muted);font-size:.95rem;"></p>
      </form>
    </div>
  </section>

  <!-- Thank You Popup -->
  <div id="thankYouModal" aria-hidden="true">
    <div class="thankyou-card">
      <h3 id="thankYouTitle">Thank you!</h3>
      <p>We’ve received your message and will be in touch shortly.</p>
      <button type="button" class="button" id="closeThankYouBtn">
        Close
      </button>
    </div>
  </div>
  
  <!-- Footer -->
  <footer role="contentinfo">
    <div class="container footer-grid-3">
      <!-- Left: logo only -->
      <a class="footer-logo" href="index.html#home" aria-label="Go to Home">
        <img src="assets/logo.png" alt="Central Asphalt Sealcoating logo" width="64" height="64" />
      </a>

      <!-- Middle: contact info -->
      <div class="footer-contact-wrap">
        <ul class="footer-contact">
          <li>
            <a href="https://www.google.com/maps/search/?api=1&query=203+E+Palmetto+Ave%2C+Longwood%2C+FL+32750"
               target="_blank" rel="noopener">
              203 E Palmetto Ave, Longwood, FL 32750
            </a>
          </li>
          <li><a href="tel:+14073320050">(407) 332-0050</a></li>
          <li><a href="mailto:CentralAsphalt@gmail.com">CentralAsphalt@gmail.com</a></li>
        </ul>

        <p class="footer-copy">&copy; <span id="year"></span> Central Asphalt Sealcoating. All rights reserved.</p>
        <p class="footer-lic">Licensed &amp; Insured</p>
      </div>

      <!-- Right: simple map -->
      <div class="footer-right">
        <div class="map-embed">
          <iframe
            title="Central Asphalt Sealcoating on Google Maps"
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
            allowfullscreen
            src="https://www.google.com/maps?q=203+E+Palmetto+Ave,+Longwood,+FL+32750&output=embed">
          </iframe>
        </div>
      </div>
    </div>
  </footer>

  <!-- Tiny inline script for year -->
  <script>
    (function () {
      var y = document.getElementById('year');
      if (y) y.textContent = new Date().getFullYear();
    })();
  </script>

  <!-- Active nav highlighter -->
  <script>
    (function () {
      var nav = document.querySelector('nav[aria-label="Primary"]');
      if (!nav) return;
      var here = location.pathname.split('/').pop() || 'index.html';
      nav.querySelectorAll('a[href]').forEach(function (a) {
        var file = (a.getAttribute('href') || '').split('#')[0] || 'index.html';
        if (file === here || (here==='index.html' && a.getAttribute('href').startsWith('index.html#'))) {
          a.setAttribute('aria-current', 'page');
        } else {
          a.removeAttribute('aria-current');
        }
      });
    })();
  </script>

  <!-- Formspree AJAX handler + Thank You Modal -->
  <script>
  (function () {
    var form        = document.getElementById('contactForm');
    var statusEl    = document.getElementById('formStatus');
    var sendBtn     = document.getElementById('sendBtn');
    var thankModal  = document.getElementById('thankYouModal');
    var closeThanks = document.getElementById('closeThankYouBtn');

    if (!form) return;

    // Wire up close button + click outside to close
    if (thankModal && closeThanks) {
      closeThanks.addEventListener('click', function () {
        thankModal.setAttribute('aria-hidden', 'true');
      });

      thankModal.addEventListener('click', function (e) {
        if (e.target === thankModal) {
          thankModal.setAttribute('aria-hidden', 'true');
        }
      });
    }

    form.addEventListener('submit', async function (e) {
      e.preventDefault();

      // Honeypot: if filled, silently drop
      var trap = document.getElementById('company_trap');
      if (trap && trap.value.trim()) return;

      // Front-end required checks
      if (!form.reportValidity || !form.reportValidity()) return;

      statusEl.style.color = 'var(--muted)';
      statusEl.textContent = 'Sending…';
      sendBtn.disabled = true;

      try {
        var res = await fetch(form.action, {
          method: 'POST',
          body: new FormData(form),
          headers: { 'Accept': 'application/json' }
        });

        var data = {};
        try { data = await res.json(); } catch (_) {}

        if (res.ok) {
          form.reset();
          statusEl.style.color = '#16a34a'; // green
          statusEl.textContent = 'Thanks! Your message has been sent.';

          // Show thank-you popup
          if (thankModal) {
            thankModal.setAttribute('aria-hidden', 'false');
          }
        } else if (data && data.errors) {
          statusEl.style.color = '#b91c1c';
          statusEl.innerHTML = 'Please fix the following: ' +
            data.errors.map(function(e){ return e.message; }).join(', ');
        } else {
          throw new Error('Request failed');
        }
      } catch (err) {
        statusEl.style.color = '#b91c1c'; // red
        statusEl.innerHTML = 'Something went wrong. Please try again, or email us at ' +
          '<a href="mailto:CentralAsphalt@gmail.com">CentralAsphalt@gmail.com</a>.';
      } finally {
        sendBtn.disabled = false;
      }
    });
  })();
  </script>
  <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M4BFTB2F"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
</body>
</html>
